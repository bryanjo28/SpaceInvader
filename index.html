<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Jigsaw Puzzle Game</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: 100vh;
			margin: 0;
		}

		#puzzle-container {
			width: 400px;
			height: 400px;
			position: relative;
			border: 2px solid #333;
			display: flex;
			flex-wrap: wrap;
			background-color: #f0f0f0;
		}

		.puzzle-piece {
			width: 100px;
			height: 100px;
			border: 1px solid #ccc;
			box-sizing: border-box;
			position: absolute;
			cursor: pointer;
			background-size: 400px 400px;
			clip-path: path("M 0 0 L 100 0 Q 90 50 100 100 L 0 100 Q 10 50 0 0 Z");
		}

		.puzzle-piece:nth-child(odd) {
			clip-path: path("M 0 0 L 100 0 Q 50 10 100 100 L 0 100 Q 50 90 0 0 Z");
		}

		.puzzle-clue {
			width: 100px;
			height: 100px;
			border: 1px dashed #888;
			box-sizing: border-box;
			position: absolute;
			background-size: 400px 400px;
			opacity: 0.5;
			pointer-events: none;
		}
	</style>
</head>

<body>
	<h1>Jigsaw Puzzle Game</h1>
	<div id="puzzle-container"></div>
	<script>
		const PUZZLE_SIZE = 400;
		const PIECE_SIZE = 100;

		window.onload = function () {
			const puzzleContainer = document.getElementById('puzzle-container');
			const pieces = [];

			// Create puzzle clues
			for (let row = 0; row < 4; row++) {
				for (let col = 0; col < 4; col++) {
					const clue = document.createElement('div');
					clue.className = 'puzzle-clue';
					clue.style.backgroundImage = 'url("./images/direksiBca.jpg")';
					clue.style.backgroundPosition = `-${col * PIECE_SIZE}px -${row * PIECE_SIZE}px`;
					clue.style.top = `${row * PIECE_SIZE}px`;
					clue.style.left = `${col * PIECE_SIZE}px`;
					puzzleContainer.appendChild(clue);
				}
			}

			// Create puzzle pieces
			for (let row = 0; row < 4; row++) {
				for (let col = 0; col < 4; col++) {
					const piece = document.createElement('div');
					piece.className = 'puzzle-piece';
					piece.style.backgroundImage = 'url("./images/direksiBca.jpg")';
					piece.style.backgroundPosition = `-${col * PIECE_SIZE}px -${row * PIECE_SIZE}px`;

					// Place pieces outside the puzzle container initially
					piece.style.top = `${PUZZLE_SIZE + Math.random() * (window.innerHeight - PIECE_SIZE)}px`;
					piece.style.left = `${Math.random() * (window.innerWidth - PIECE_SIZE)}px`;

					piece.dataset.correctLeft = col * PIECE_SIZE;
					piece.dataset.correctTop = row * PIECE_SIZE;

					piece.addEventListener('mousedown', onPieceMouseDown);

					pieces.push(piece);
					document.body.appendChild(piece);
				}
			}

			function onPieceMouseDown(event) {
				const piece = event.target;
				const offsetX = event.clientX - piece.getBoundingClientRect().left;
				const offsetY = event.clientY - piece.getBoundingClientRect().top;

				function onMouseMove(event) {
					piece.style.left = `${event.clientX - offsetX}px`;
					piece.style.top = `${event.clientY - offsetY}px`;
				}

				function onMouseUp() {
					document.removeEventListener('mousemove', onMouseMove);
					document.removeEventListener('mouseup', onMouseUp);

					const left = Math.round(parseInt(piece.style.left) / PIECE_SIZE) * PIECE_SIZE;
					const top = Math.round(parseInt(piece.style.top) / PIECE_SIZE) * PIECE_SIZE;

					if (left === parseInt(piece.dataset.correctLeft) && top === parseInt(piece.dataset.correctTop)) {
						piece.style.left = `${left}px`;
						piece.style.top = `${top}px`;
						piece.style.border = '1px solid green';
					} else {
						piece.style.left = `${PUZZLE_SIZE + Math.random() * (window.innerHeight - PIECE_SIZE)}px`;
						piece.style.top = `${Math.random() * (window.innerWidth - PIECE_SIZE)}px`;
					}
				}

				document.addEventListener('mousemove', onMouseMove);
				document.addEventListener('mouseup', onMouseUp);
			}
		}
	</script>
</body>

</html>